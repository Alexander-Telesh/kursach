var photos=new Array();

function PreloadImages()
{
  photos[0]=new Image;
  photos[0].src="/img/bklens1.gif";
  photos[1]=new Image;
  photos[1].src="/img/bklens2.gif";
}

function setCookie(cookieName, cookieContent, cookieExpireTime) {
    if(cookieExpireTime>0) {
        var d=new Date();
	d.setDate(d.getDate()+cookieExpireTime);
        document.cookie=cookieName+"="+cookieContent+"; path="+escape('/')+"; expires="+d.toGMTString();
    }else
    {
        document.cookie=cookieName+"="+cookieContent+"; path="+escape('/')+"";
    }
}

function getCookie(cookieName)
{
  if(!cookieName)
  {
    return false;
  };
  var cookieArray = document.cookie.split('; ');
  for(var i = 0; i < cookieArray.length; i++)
  {
    var name_valueCookie = cookieArray[i].split('=');
    if(name_valueCookie[0] == cookieName)
    {
      return unescape(name_valueCookie[1]);
    };
  };
  return false;
};


function escapeEx(str)
{
    var ret = '';
    return str;

    for (i=0; i<str.length; i++)
    {
        var n = str.charCodeAt(i);
        if (n >= 0x410 && n <= 0x44F)
          n -= 0x350;
        else if (n == 0x451)
          n = 0xB8;
        else if (n == 0x401)
          n = 0xA8;
        if ((n < 65 || n > 90) && (n < 97 || n > 122) && n < 256)
        {
          if (n < 16)
            ret += '%0'+n.toString(16);
          else
            ret += '%'+n.toString(16);
        }
        else
        ret += String.fromCharCode(n);
    }
    return ret;
}																						

function getXmlHttp()
{
  var xmlhttp;
  try { xmlhttp = new ActiveXObject("Msxml2.XMLHTTP"); }
  catch (e)
  {
    try { xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); }
    catch (E) { xmlhttp = false; }
  }
  if (!xmlhttp && typeof XMLHttpRequest!='undefined')
  {
    xmlhttp = new XMLHttpRequest();
  }
  return xmlhttp;
}

function OpenCloseUserCase()
{
  if (document.getElementById("usercasediv").style.visibility != "visible")
  {
    document.getElementById("usercasediv").style.visibility="visible";
  } else
  {
    document.getElementById("usercasediv").style.visibility="hidden";
  }
}

function NewsBlogChange(c) {
  var xhr = new XMLHttpRequest();

  if (c == "hot") {
    $('#newsblogshotdiv').show();
    $('#newsblogsnewdiv').hide();

    $('#newsblogshot').attr("class", 'submenu1 active');
    $('#newsblogsnew').attr("class", 'submenu1');

    xhr.open("GET", "/blogjournalsettinghot", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.send();
  }
  else {
    $('#newsblogshotdiv').hide();
    $('#newsblogsnewdiv').show();

    $('#newsblogshot').attr("class", 'submenu1');
    $('#newsblogsnew').attr("class", 'submenu1 active');

    xhr.open("GET", "/blogjournalsettingnew", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.send();
  }
}




document.addEventListener('touchstart', handleTouchStart, false);
document.addEventListener('touchmove', handleTouchMove, false);

var xDown = null;
var yDown = null;

function handleTouchStart(evt) {
    xDown = evt.touches[0].clientX;
    yDown = evt.touches[0].clientY;
};

function handleTouchMove(evt) {
    if ( ! xDown || ! yDown ) {
        return;
    }
    var xUp = evt.touches[0].clientX;
    var yUp = evt.touches[0].clientY;
    var xDiff = xDown - xUp;
    var yDiff = yDown - yUp;

    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {
        if (( xDiff > 0 ) && ($('.wrapper').hasClass('on'))) {
//          $('.navbar-tog').trigger('click');
        } else {
            if((!navigator.userAgent.match(/iPhone/i)) && (!navigator.userAgent.match(/iPod/i)) && (!navigator.userAgent.match(/iPad/i))) {
              if (( xDown < 45 ) && (!$('.wrapper').hasClass('on'))) {
                $('.navbar-tog').trigger('click');
                $("html, body").animate({ scrollTop: 0 }, 600);
              }  
            }
        }
    } 
    xDown = null;
    yDown = null;
};